name: maintenance
category: diagnostics

identifier:
    msb: 0x00
    lsb: 0x34

api:
    intro: 3
    update: 11

getters: default

state: all
    
properties:
  - id: 0x01
    name: days_to_next_service
    type: integer
    size: 2
    description: Number of days until next servicing of the car, whereas negative is overdue
  - id: 0x02
    name: kilometers_to_next_service
    type: uinteger
    size: 4
    description: The amount of kilometers until next servicing of the car
  - id: 0x03
    name: cbs_reports_count
    type: uinteger
    size: 1
    description: The number of CBS reports
  - id: 0x04
    name: months_to_exhaust_inpection
    type: uinteger
    size: 1
    description: Number of months until exhaust inspection
  - id: 0x05
    name: teleservice_availability
    type: enum
    size: 1
    values:
      - id: 0x00
        name: pending
      - id: 0x01
        name: idle
      - id: 0x02
        name: succesful
      - id: 0x03
        name: error
  - id: 0x06
    name: service_distance_threshold
    type: uinteger
    size: 2
    description: Distance threshold for Service
  - id: 0x07
    name: service_time_threshold
    type: uinteger
    size: 1
    description: Time threshold, in weeks, for Service
  - id: 0x08
    name: automatic_teleservice_call_date
    type: timestamp
    size: 8
    description: Milliseconds since UNIX Epoch time
  - id: 0x09
    name: teleservice_battery_call_date
    type: timestamp
    size: 8
    description: Milliseconds since UNIX Epoch time
  - id: 0x0A
    name: next_inspection_date
    type: timestamp
    size: 8
    description: Milliseconds since UNIX Epoch time
  - id: 0x0B
    name: condition_based_services
    type: custom
    multiple: true
    items:
      - name: year
        type: uinteger
        size: 1
        description: Value between 0 and 99, which corresponds to 2000-2099
      - name: month
        type: uinteger
        size: 1
        description: Value between 1 and 12
      - name: identifier
        type: uinteger
        size: 2
        description: CBS identifier
      - name: due_status
        type: enum
        size: 1
        values:
          - id: 0x00
            name: ok
          - id: 0x01
            name: pending
          - id: 0x02
            name: overdue
      - name: text_size
        type: uinteger
        size: 2
        description: Size of the CBS text
      - name: text
        type: string
        description: CBS text bytes formatted in UTF-8
      - name: description_size
        type: uinteger
        size: 2
        description: Size of the description string
      - name: description
        type: string
        description: Description bytes formatted in UTF-8
  - id: 0x0C
    name: brake_fluid_change_date
    type: timestamp
    size: 8
    description: Milliseconds since UNIX Epoch time
