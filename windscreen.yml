name: windscreen
name_cased: windscreen
category: chassis

identifier:
  msb: 0x00
  lsb: 0x42

api:
  intro: 4
  update: 11

getters:
  default: {}

setters:
  - name: set_windscreen_damage
    mandatory: [0x03]
    optional: [0x05]
  - name: set_windscreen_replacement_needed
    mandatory: [0x06]
  - name: control_wipers
    mandatory: [0x01]
    optional: [0x02]

state: all

properties:
  - id: 0x01
    name: wipers
    name_cased: wipers
    type: enum
    size: 1
    enum_values:
      - id: 0x00
        name: inactive
        verb: deactivate
      - id: 0x01
        name: active
        verb: activate
      - id: 0x02
        name: automatic
  - id: 0x02
    name: wipers_intensity
    name_cased: wipersIntensity
    type: enum
    size: 1
    enum_values:
      - id: 0x00
        name: level_0
        pretty_name: Level 0, inactive
      - id: 0x01
        name: level_1
      - id: 0x02
        name: level_2
      - id: 0x03
        name: level_3
  - id: 0x03
    name: windscreen_damage
    name_cased: windscreenDamage
    type: enum
    size: 1
    enum_values:
      - id: 0x00
        name: no_impact_detected
      - id: 0x01
        name: impact_but_no_damage_detected
      - id: 0x02
        name: damage_smaller_than_1_inch
      - id: 0x03
        name: damage_larger_than_1_inch
  - id: 0x04
    name: windscreen_zone_matrix
    name_cased: windscreenZoneMatrix
    type: types.zone
    description: Representing the size of the matrix, seen from the inside of the vehicle
  - id: 0x05
    name: windscreen_damage_zone
    name_cased: windscreenDamageZone
    type: types.zone
    description: Representing the position in the zone, seen from the inside of the vehicle (1-based index)
  - id: 0x06
    name: windscreen_needs_replacement
    name_cased: windscreenNeedsReplacement
    type: enum
    size: 1
    enum_values:
      - id: 0x00
        name: unknown
      - id: 0x01
        name: no_replacement_needed
      - id: 0x02
        name: replacement_needed
  - id: 0x07
    name: windscreen_damage_confidence
    name_cased: windscreenDamageConfidence
    type: types.percentage
    description: Confidence of damage detection, 0% if no impact detected
  - id: 0x08
    name: windscreen_damage_detection_time
    name_cased: windscreenDamageDetectionTime
    type: timestamp
    size: 8
    description: Milliseconds since UNIX Epoch time
