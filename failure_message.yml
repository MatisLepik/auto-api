name: failure_message
category: api_structure

identifier:
  msb: 0x00
  lsb: 0x02

api:
  intro: 2
  update: 11

state: all

properties:
  - id: 0x01
    name: failed_message_identifier
    type: uinteger
    size: 2
    description: Capability identifier of the failed message
  - id: 0x02
    name: failed_message_type
    type: uinteger
    size: 1
    description: Message type of the failed message
  - id: 0x03
    name: failure_reason
    type: enum
    size: 1
    values:
      - id: 0x00
        name: unsupported_capability
        pretty_name: Unsupported Capability - Car has not the capability to perform the command
      - id: 0x01
        name: unauthorised
        pretty_name: Unauthorised - User has not been authenticated or lacks permissions
      - id: 0x02
        name: incorrect_state
        pretty_name: Incorrect State - Command can not be executed in the current car state
      - id: 0x03
        name: execution_timeout
        pretty_name: Execution Timeout - Command failed to execute in time for an unknown reason
      - id: 0x04
        name: vehicle_asleep
        pretty_name: Vehicle Asleep - Car has to be waken up before the command can be used. If this is for a virtual car, the emulator has to be loaded
      - id: 0x05
        name: invalid_command
        pretty_name: Invalid Command - Not recognised
      - id: 0x06
        name: pending
        pretty_name: Pending - Capability is being refreshed
      - id: 0x07
        name: rate_limit
        pretty_name: Rate Limit - Capability rate limit has been exceeded
  - id: 0x04
    name: failure_description
    type: string
    description: Failure description bytes formatted in UTF-8
